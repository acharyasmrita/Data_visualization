<!DOCTYPE html>
<html>
   <head>
      <!--please note :change https://d3js.org/d3.v4.min.js to https://d3js.org/d3.v5.min.js-->
      <!--<script type = "text/javascript" src = "https://d3js.org/d3.v4.min.js"></script>-->
      <script type = "text/javascript" src = "https://d3js.org/d3.v5.min.js"></script>
   </head>

   <body>
    <script>
        //you need to pay atteion to how to read csv, in local file, it does't work. 
        //but in github it works when you click "raw" to see your data
        //Make sure you're using the latest version of D3 Also if you're confused about CORS, 
        //try to upload your data file to Github GIST and use the raw URL to the CSV data file. 
        //Or if your data is in a different server you can try this https://cors-anywhere.herokuapp.com/ followed by your data/csv URL.
        //See example using your code and gist here
       d3.csv('https://raw.githubusercontent.com/ivaleehan/D3Data/main/data.csv').then(function(data){
           var canvas = d3.select('body').append('svg')
           .attr('width', 1000)
           .attr('height', 700)
           canvas.selectAll('rect')
           .data(data)
           .enter()
           .append('rect')
           .attr('width', function(d){
               return d.age * 10
            })
            .attr('height', 48)
            .attr('x',100)
            .attr('y', function(d, i){
                return i * 50+100
            })
            .attr('fill', 'blue')
            canvas.selectAll('text')
            .data(data)
            .enter()
            .append('text')
            .attr('fill', 'red')
            .attr('x',100)
            .attr('y', function(d, i){
                return i * 50 + 30+100
            })
            .text(function(d){
                return d.name
            })
        })
        </script>
   </body>
</html>